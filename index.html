<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Solar System – Profile View</title>
  <style>
    body { margin: 0; overflow: hidden; background: black; }
    canvas { display: block; }
  </style>
</head>
<body>

<!-- ✅ Three.js depuis UNPKG (CDN fiable) -->
<script src="https://unpkg.com/three@0.153.0/build/three.min.js"></script>

<!-- ✅ OrbitControls depuis UNPKG -->
<script src="https://unpkg.com/three@0.153.0/examples/js/controls/OrbitControls.js"></script>

<script>
  const scene = new THREE.Scene();

  const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
  camera.position.set(0, 50, 300);

  const renderer = new THREE.WebGLRenderer({ antialias: true });
  renderer.setSize(window.innerWidth, window.innerHeight);
  document.body.appendChild(renderer.domElement);

  const controls = new THREE.OrbitControls(camera, renderer.domElement);
  controls.enableDamping = true;
  controls.dampingFactor = 0.05;
  controls.rotateSpeed = 0.3;

  const light = new THREE.PointLight(0xffffff, 2, 1000);
  scene.add(light);

  const sunGeo = new THREE.SphereGeometry(12, 32, 32);
  const sunMat = new THREE.MeshBasicMaterial({ color: 0xffcc00 });
  const sun = new THREE.Mesh(sunGeo, sunMat);
  scene.add(sun);

  const planets = [
    { name: "OUTREACH", radius: 60, size: 5, color: 0x00ccff, speed: 0.01, angle: 0 },
    { name: "PERSONAL", radius: 100, size: 7, color: 0xff66cc, speed: 0.007, angle: 2 },
    { name: "RESEARCH", radius: 140, size: 9, color: 0x66ff66, speed: 0.004, angle: 4 }
  ];

  planets.forEach(p => {
    const geo = new THREE.SphereGeometry(p.size, 32, 32);
    const mat = new THREE.MeshStandardMaterial({ color: p.color });
    p.mesh = new THREE.Mesh(geo, mat);
    scene.add(p.mesh);

    const canvas = document.createElement('canvas');
    canvas.width = 256; canvas.height = 64;
    const ctx = canvas.getContext('2d');
    ctx.font = 'bold 28px Arial';
    ctx.fillStyle = 'white';
    ctx.fillText(p.name, 10, 40);
    const texture = new THREE.CanvasTexture(canvas);
    const labelMat = new THREE.SpriteMaterial({ map: texture });
    const label = new THREE.Sprite(labelMat);
    label.scale.set(40, 15, 1);
    p.label = label;
    scene.add(label);
  });

  function animate() {
    requestAnimationFrame(animate);
    planets.forEach(p => {
      p.angle += p.speed;
      const x = p.radius * Math.cos(p.angle);
      const y = p.radius * Math.sin(p.angle) * 0.2;
      p.mesh.position.set(x, y, 0);
      p.label.position.set(x, y + p.size + 6, 0);
    });
    controls.update();
    renderer.render(scene, camera);
  }

  animate();

  window.addEventListener('resize', () => {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
  });
</script>
</body>
</html>
